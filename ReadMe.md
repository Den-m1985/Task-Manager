## Разработка Системы Управления Задачами
### Описание задачи:
Вам необходимо разработать простую систему управления задачами (Task Management System) с использованием Java, Spring.  
Система должна обеспечивать:  
- [x] создание, редактирование, удаление и просмотр задач.  
    Каждая задача должна содержать заголовок, описание, статус  
    (например, "в ожидании", "в процессе", "завершено"),  
    приоритет (например, "высокий", "средний", "низкий")  
    и комментарии, а также автора задачи и исполнителя.
### Реализовать необходимо только API.
Требования:
- [x] Сервис должен поддерживать аутентификацию и авторизацию пользователей по email и паролю.
- [x] Доступ к API должен быть аутентифицирован с помощью JWT токена.
- [x] Создать ролевую систему администратора и пользователей.  
  Администратор может управлять всеми задачами:  
  создавать новые,  
  редактировать существующие,  
  просматривать и удалять,  
  менять статус и приоритет,  
  назначать исполнителей задачи,  
  оставлять комментарии.
- [x] Пользователи могут управлять своими задачами, если указаны как исполнитель: менять статус, оставлять комментарии.
- [x] API должно позволять получать задачи конкретного автора или исполнителя, а также все комментарии к ним. Необходимо обеспечить фильтрацию и пагинацию вывода.  
- [x] Сервис должен корректно обрабатывать ошибки и возвращать понятные сообщения, а также валидировать входящие данные.  
- [x] Сервис должен быть хорошо задокументирован.  
- [x] API должен быть описан с помощью Open API и Swagger.  
- [x] В сервисе должен быть настроен Swagger UI.  
- [x] Необходимо написать README с инструкциями для локального запуска проекта.  
- [x] Дев среду нужно поднимать с помощью docker compose.  
- [x] Напишите несколько базовых тестов для проверки основных функций вашей системы.  
- [x] Используйте для реализации системы язык Java 17+, Spring, Spring Boot.  
- [x] В качестве БД можно использовать PostgreSQL или MySQL  
- [x] Для реализации аутентификации и авторизации нужно использовать Spring Security.  

Можно использовать дополнительные инструменты, если в этом есть необходимость (например кэш).  
### Оценка:
Оцениваться будут следующие аспекты  
Соответствие требованиям.  
Качество и чистота кода.  
Проектирование системы и использование ООП.  
Наличие тестов и их покрытие.  
Обработка ошибок.  

## Запуск проекта в IDEA:
Сначала необходимо запустить базу данных в контейнере:
```shell
docker compose up
```
Запускаем TaskManagerApplication в своей среде разработке  
или в терминале в корне проекта:
```shell
mvn spring-boot:run
```
## Так же можно запустить проект в docker:
Если нужно запустить проект в контейнере, то раскомментируем секцию app в docker compose.
```shell
docker compose up
```
Проект и база данных будет запущены в контейнере.

### Swagger доступен по адресу:  
http://localhost:8080/swagger-ui/index.html#/



### Deploy APP на VDS сервер:
Собираем образ
```shell
docker build -t task_app .
```

Сохраняем контейнер в файл (в ту же директорию, где и образ)  
```shell
sudo docker save -o task_app.tar task_app
```

Копируем на сервер по SSH (~ означает сохранить в домашнюю директорию)
```shell
sudo scp task_app.tar root@[12.345.678.9101]:~
```

Заходим на наш сервер:
```shell
ssh root@[12.345.678.9101]
```

Импортируем образ из файла на сервере:
```shell
docker load < task_app.tar
```

Запускаем контейнер на сервере в режиме демона:
```shell
docker run -d -p [port]:[port] task_app
```

Удаляем файл на сервере
```shell
rm task_app.tar
```

### Deploy POSTGRES на VDS сервер:
```shell
docker run -d --name task -e POSTGRES_DB=task -e POSTGRES_USER=[insert name] -e POSTGRES_PASSWORD=[insert password] -p 5432:5432 postgres:latest
```

заходим внутрь контейнера
```shell
docker exec -it task psql -U postgres_task task
```

Настройка jwt токена отсюда:  
https://medium.com/@tericcabrel/implement-jwt-authentication-in-a-spring-boot-3-application-5839e4fd8fac
Настройка ролей:  
https://medium.com/@tericcabrel/implement-role-based-access-control-in-spring-boot-3-a31c87c2be5c